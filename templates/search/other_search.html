{% load static %}
{% load django_bootstrap5 %}
{% load i18n %}
{% load thumbnail %}

<div class="w-full" data-voice-container>
  <form method="GET" action="{% url 'product_search:product_filter' %}" class="flex items-center gap-2">
      <div class="relative flex-1">
          <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400" aria-hidden="true"><span class="icon_search"></span></span>
          <input type="text" name="title_contains_query" placeholder="Search fresh deals and nearby shops" value="{{ request.GET.title_contains_query.strip }}" class="w-full rounded-xl border border-gray-300 pl-10 pr-3 py-2 focus:ring-2 focus:ring-blue-500">
      </div>
      <button class="rounded-xl border border-gray-300 px-3 py-2 hover:bg-gray-100 transition" type="button" data-voice-action="search" data-voice-input="title_contains_query" aria-label="Start voice search">
          <span class="fa fa-microphone" aria-hidden="true"></span>
      </button>
      <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white rounded-xl px-4 py-2 transition">Search</button>
  </form>
  <p class="text-xs text-gray-500 mt-1" data-voice-status aria-live="polite"></p>
</div>
