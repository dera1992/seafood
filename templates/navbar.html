{% load static %}
{% load cart_template_tags %}

<header class="sticky top-0 z-40 border-b border-gray-200 bg-white/95 backdrop-blur">
  <div class="max-w-6xl mx-auto px-4 py-2 text-sm text-gray-600 flex items-center justify-between">
    <p>Phone: <span class="font-semibold text-gray-900">+4477060805408</span></p>
    <div class="flex items-center gap-3">
      {% if user.is_authenticated %}
        <a class="text-gray-600 hover:text-blue-600 transition" href="{% url 'profile_display' %}">{{ request.user.get_full_name|default:request.user.username }}</a>
        <a class="text-gray-600 hover:text-blue-600 transition" href="{% url 'logout' %}">Log Out</a>
      {% else %}
        <a class="text-gray-600 hover:text-blue-600 transition" href="{% url 'login' %}">Login</a>
        <a class="px-3 py-1.5 rounded-xl bg-blue-600 text-white hover:bg-blue-700 transition" href="{% url 'register' %}">Register</a>
      {% endif %}
    </div>
  </div>

  <div class="max-w-6xl mx-auto px-4 py-3 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
    <a href="{% url 'home:home' %}" class="inline-flex items-center gap-2">
      <img src="{% static 'assets/images/logo.png' %}" class="h-10 w-auto" alt="Bunchfood">
      <span class="font-semibold text-slate-900">Bunchfood</span>
    </a>

    <div class="w-full lg:max-w-xl">
      {% include 'search/other_search.html' %}
    </div>

    {% if user.is_authenticated %}
      <div class="flex items-center gap-2 text-sm">
        <a href="{% url 'home:favourites' %}" class="px-3 py-2 rounded-xl bg-gray-100 hover:bg-gray-200 transition">
          Wishlist <span class="ml-1 text-gray-500">{{ request.user|wish_item_count }}</span>
        </a>
        <a href="{% url 'cart:order-summary' %}" class="px-3 py-2 rounded-xl bg-blue-600 text-white hover:bg-blue-700 transition">
          Cart <span class="ml-1 text-blue-100">{{ request.user|cart_item_count }}</span>
        </a>
      </div>
    {% endif %}
  </div>
</header>
